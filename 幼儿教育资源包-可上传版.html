<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="å¹¼å„¿æ•™è‚²èµ„æºåŒ… - ä¸“ä¸º3-6å²å„¿ç«¥è®¾è®¡çš„æ•™å­¦èµ„æºåº“ï¼Œæ”¯æŒæ–‡ä»¶ä¸Šä¼ å’Œå…±äº«">
    <title>å¹¼å„¿æ•™è‚²èµ„æºåŒ… - å¯ä¸Šä¼ ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-bounce { animation: bounce 1s infinite; }
        .animate-pulse { animation: pulse 2s infinite; }
        .gradient-text {
            background: linear-gradient(90deg, #8b5cf6, #3b82f6, #22c55e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 640px) {
            .hero-title { font-size: 2rem !important; }
            .hero-emoji { font-size: 2.5rem !important; }
        }
        /* å¹³æ¿ä¼˜åŒ– */
        @media (min-width: 641px) and (max-width: 1024px) {
            .hero-title { font-size: 2.5rem !important; }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-green-50">
    <!-- è£…é¥°æ€§å…ƒç´  -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-10 left-10 text-6xl animate-bounce hero-emoji">ğŸ¬</div>
        <div class="absolute top-20 right-20 text-5xl animate-pulse hero-emoji">ğŸ“Š</div>
        <div class="absolute bottom-20 left-20 text-5xl animate-bounce hero-emoji" style="animation-delay: 0.5s">ğŸ¤–</div>
        <div class="absolute bottom-10 right-10 text-6xl animate-pulse hero-emoji" style="animation-delay: 1s">ğŸŒŸ</div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="relative mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8">
        <!-- å¤´éƒ¨ï¼šæ ‡é¢˜å’Œä¸»é¢˜ä»‹ç» -->
        <div class="mb-12 text-center">
            <div class="mb-4 flex justify-center gap-4 hero-emoji">
                <span class="animate-bounce" style="animation-delay: 0s">ğŸ¬</span>
                <span class="animate-bounce" style="animation-delay: 0.1s">ğŸ“Š</span>
                <span class="animate-bounce" style="animation-delay: 0.2s">ğŸ¤–</span>
            </div>
            <h1 class="mb-4 text-4xl font-bold gradient-text hero-title">
                å¹¼å„¿æ•™è‚²èµ„æºåŒ…
            </h1>
            <p class="mx-auto max-w-3xl text-lg text-gray-700 sm:text-base">
                ä¸“ä¸º3-6å²å„¿ç«¥è®¾è®¡çš„æ•™å­¦èµ„æºåº“ï¼æ”¯æŒæ–‡ä»¶ä¸Šä¼ å’Œå…±äº«ï¼Œ
                æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥ä¸Šä¼ å’Œä¸‹è½½èµ„æºã€‚ğŸŒˆ
            </p>
            <div class="mt-4 text-sm text-gray-600">
                <span class="inline-flex items-center rounded-full bg-green-100 px-3 py-1 text-green-800">
                    âœ… çº¯é™æ€ç½‘é¡µï¼Œæ— éœ€åç«¯
                </span>
                <span class="ml-2 inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-blue-800">
                    âœ… å…è´¹æ–‡ä»¶æ‰˜ç®¡
                </span>
            </div>
        </div>

        <!-- ä¸Šä¼ æŒ‰é’® -->
        <div class="mb-8 text-center">
            <button
                onclick="showUploadModal()"
                class="inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-purple-500 via-blue-500 to-green-500 px-8 py-4 text-lg font-bold text-white shadow-lg transition-all hover:scale-105 hover:shadow-xl"
            >
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                </svg>
                ä¸Šä¼ èµ„æº
            </button>
        </div>

        <!-- èµ„æºç±»å‹ç­›é€‰ -->
        <div class="mb-8 flex flex-wrap items-center justify-center gap-3">
            <button
                onclick="filterResources('all')"
                id="btn-all"
                class="filter-btn px-4 py-2 sm:px-6 sm:py-3 rounded-full font-bold transition-all duration-200 transform hover:scale-105 bg-gradient-to-r from-purple-500 via-blue-500 to-green-500 text-white shadow-lg text-sm sm:text-base"
            >
                ğŸ“¦ å…¨éƒ¨èµ„æº
            </button>
            <button
                onclick="filterResources('video')"
                id="btn-video"
                class="filter-btn px-4 py-2 sm:px-6 sm:py-3 rounded-full font-bold transition-all duration-200 transform hover:scale-105 bg-white text-gray-700 hover:shadow-md text-sm sm:text-base"
            >
                ğŸ¬ è§†é¢‘å¾®è¯¾
            </button>
            <button
                onclick="filterResources('ppt')"
                id="btn-ppt"
                class="filter-btn px-4 py-2 sm:px-6 sm:py-3 rounded-full font-bold transition-all duration-200 transform hover:scale-105 bg-white text-gray-700 hover:shadow-md text-sm sm:text-base"
            >
                ğŸ“Š PPTè¯¾ä»¶
            </button>
            <button
                onclick="filterResources('ai')"
                id="btn-ai"
                class="filter-btn px-4 py-2 sm:px-6 sm:py-3 rounded-full font-bold transition-all duration-200 transform hover:scale-105 bg-white text-gray-700 hover:shadow-md text-sm sm:text-base"
            >
                ğŸ¤– AIäº’åŠ¨
            </button>
        </div>

        <!-- èµ„æºå¡ç‰‡ç½‘æ ¼ -->
        <div class="mb-16" id="resources-container">
            <!-- èµ„æºåˆ—è¡¨å°†é€šè¿‡ JavaScript åŠ¨æ€åŠ è½½ -->
        </div>

        <!-- é€‚ç”¨åœºæ™¯è¯´æ˜ -->
        <div class="rounded-2xl sm:rounded-3xl bg-white p-6 sm:p-8 shadow-xl">
            <h2 class="mb-6 sm:mb-8 text-center text-2xl sm:text-3xl font-bold gradient-text">
                ğŸ’¡ é€‚ç”¨åœºæ™¯è¯´æ˜
            </h2>
            <div class="grid gap-4 sm:gap-6 md:grid-cols-2">
                <div class="flex gap-3 sm:gap-4 rounded-2xl bg-gradient-to-r from-purple-50 via-blue-50 to-green-50 p-4 sm:p-6 transition-all duration-300 hover:shadow-lg hover:scale-105">
                    <div class="flex-shrink-0">
                        <span class="flex h-12 w-12 sm:h-14 sm:w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-purple-400 to-blue-500 text-2xl sm:text-3xl shadow-lg">
                            ğŸ«
                        </span>
                    </div>
                    <div>
                        <h3 class="mb-2 text-lg sm:text-xl font-bold text-gray-900">å¹¼å„¿å›­è¯¾å ‚</h3>
                        <p class="text-gray-600 text-sm sm:text-base">è€å¸ˆä½¿ç”¨PPTè¯¾ä»¶è¿›è¡Œè¯¾å ‚æ•™å­¦ï¼Œé…åˆè§†é¢‘å¾®è¯¾åŠ æ·±ç†è§£</p>
                    </div>
                </div>
                <div class="flex gap-3 sm:gap-4 rounded-2xl bg-gradient-to-r from-purple-50 via-blue-50 to-green-50 p-4 sm:p-6 transition-all duration-300 hover:shadow-lg hover:scale-105">
                    <div class="flex-shrink-0">
                        <span class="flex h-12 w-12 sm:h-14 sm:w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-400 to-green-500 text-2xl sm:text-3xl shadow-lg">
                            ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦
                        </span>
                    </div>
                    <div>
                        <h3 class="mb-2 text-lg sm:text-xl font-bold text-gray-900">å®¶åº­æ—©æ•™</h3>
                        <p class="text-gray-600 text-sm sm:text-base">å®¶é•¿é™ªä¼´å­©å­è§‚çœ‹è§†é¢‘å¾®è¯¾ï¼Œé€šè¿‡AIäº’åŠ¨å·©å›ºçŸ¥è¯†</p>
                    </div>
                </div>
                <div class="flex gap-3 sm:gap-4 rounded-2xl bg-gradient-to-r from-purple-50 via-blue-50 to-green-50 p-4 sm:p-6 transition-all duration-300 hover:shadow-lg hover:scale-105">
                    <div class="flex-shrink-0">
                        <span class="flex h-12 w-12 sm:h-14 sm:w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-green-400 to-purple-500 text-2xl sm:text-3xl shadow-lg">
                            ğŸ“š
                        </span>
                    </div>
                    <div>
                        <h3 class="mb-2 text-lg sm:text-xl font-bold text-gray-900">è¯¾åå¤ä¹ </h3>
                        <p class="text-gray-600 text-sm sm:text-base">ä¸‹è½½PPTè¯¾ä»¶å’Œè§†é¢‘èµ„æºï¼Œéšæ—¶è¿›è¡Œè¯¾åå¤ä¹ </p>
                    </div>
                </div>
                <div class="flex gap-3 sm:gap-4 rounded-2xl bg-gradient-to-r from-purple-50 via-blue-50 to-green-50 p-4 sm:p-6 transition-all duration-300 hover:shadow-lg hover:scale-105">
                    <div class="flex-shrink-0">
                        <span class="flex h-12 w-12 sm:h-14 sm:w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-purple-400 to-green-500 text-2xl sm:text-3xl shadow-lg">
                            ğŸ¤–
                        </span>
                    </div>
                    <div>
                        <h3 class="mb-2 text-lg sm:text-xl font-bold text-gray-900">AIæ™ºèƒ½è¾…å¯¼</h3>
                        <p class="text-gray-600 text-sm sm:text-base">åˆ©ç”¨AIäº’åŠ¨å·¥å…·è¿›è¡Œä¸ªæ€§åŒ–å­¦ä¹ è¾…å¯¼</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- é¡µè„š -->
        <footer class="mt-16 text-center text-gray-600">
            <p class="text-sm sm:text-base">
                ğŸˆ è®©æ¯ä¸ªå­©å­éƒ½å¿«ä¹å­¦ä¹ ï¼
            </p>
            <p class="mt-2 text-xs text-gray-500">
                æœ¬é¡µé¢ä½¿ç”¨ Transfer.sh å…è´¹æ–‡ä»¶æ‰˜ç®¡æœåŠ¡
            </p>
        </footer>
    </div>

    <!-- ä¸Šä¼ æ¨¡æ€æ¡† -->
    <div id="uploadModal" class="fixed inset-0 z-50 hidden flex items-center justify-center" style="background-color: rgba(0,0,0,0.8)">
        <div class="relative mx-4 w-full max-w-lg rounded-3xl bg-white p-6 sm:p-8 shadow-2xl">
            <button
                onclick="hideUploadModal()"
                class="absolute right-4 top-4 text-gray-400 hover:text-gray-600"
            >
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <h2 class="mb-6 text-2xl font-bold gradient-text">ä¸Šä¼ èµ„æº</h2>
            <form id="uploadForm" onsubmit="handleUpload(event)">
                <div class="mb-4">
                    <label class="mb-2 block text-sm font-bold text-gray-700">èµ„æºç±»å‹</label>
                    <select
                        id="resourceType"
                        class="w-full rounded-xl border-2 border-gray-200 px-4 py-3 focus:border-purple-500 focus:outline-none"
                        required
                    >
                        <option value="video">ğŸ¬ è§†é¢‘å¾®è¯¾</option>
                        <option value="ppt">ğŸ“Š PPTè¯¾ä»¶</option>
                        <option value="ai">ğŸ¤– AIäº’åŠ¨</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="mb-2 block text-sm font-bold text-gray-700">é€‰æ‹©æ–‡ä»¶</label>
                    <input
                        type="file"
                        id="fileInput"
                        accept=".mp4,.webm,.ogg,.ppt,.pptx,.html,.json,.txt"
                        class="w-full rounded-xl border-2 border-gray-200 px-4 py-3 focus:border-purple-500 focus:outline-none"
                        required
                    />
                    <p class="mt-1 text-xs text-gray-500">æ”¯æŒï¼šè§†é¢‘(.mp4,.webm,.ogg) | PPT(.ppt,.pptx) | AIé…ç½®(.html,.json,.txt)</p>
                </div>
                <div class="mb-4">
                    <label class="mb-2 block text-sm font-bold text-gray-700">èµ„æºæ ‡é¢˜</label>
                    <input
                        type="text"
                        id="titleInput"
                        placeholder="ä¾‹å¦‚ï¼šå°æ˜Ÿæ˜Ÿå„¿æ­Œ"
                        class="w-full rounded-xl border-2 border-gray-200 px-4 py-3 focus:border-purple-500 focus:outline-none"
                        required
                    />
                </div>
                <div class="mb-6">
                    <label class="mb-2 block text-sm font-bold text-gray-700">èµ„æºæè¿°ï¼ˆå¯é€‰ï¼‰</label>
                    <textarea
                        id="descriptionInput"
                        placeholder="ä¾‹å¦‚ï¼šé€‚åˆ3-4å²å¹¼å„¿çš„ç»å…¸å„¿æ­Œæ•™å­¦"
                        rows="3"
                        class="w-full rounded-xl border-2 border-gray-200 px-4 py-3 focus:border-purple-500 focus:outline-none"
                    ></textarea>
                </div>
                <button
                    type="submit"
                    id="submitBtn"
                    class="w-full rounded-xl bg-gradient-to-r from-purple-500 via-blue-500 to-green-500 px-6 py-4 font-bold text-white transition-all hover:scale-105 hover:shadow-lg"
                >
                    å¼€å§‹ä¸Šä¼ 
                </button>
            </form>
        </div>
    </div>

    <!-- è§†é¢‘æ’­æ”¾æ¨¡æ€æ¡† -->
    <div id="videoModal" class="fixed inset-0 z-50 hidden flex items-center justify-center" style="background-color: rgba(0,0,0,0.9)">
        <div class="relative mx-4 w-full max-w-5xl">
            <button
                onclick="hideVideoModal()"
                class="absolute -right-4 -top-4 text-white hover:text-gray-300"
            >
                <svg class="h-10 w-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <video
                id="videoPlayer"
                controls
                autoplay
                class="w-full rounded-2xl"
            ></video>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // èµ„æºåˆ—è¡¨ï¼ˆå­˜å‚¨åœ¨ localStorageï¼Œæ”¯æŒå¤šç”¨æˆ·å…±äº«é€šè¿‡ GitHub APIï¼‰
        let resources = [];
        let selectedType = 'all';

        // ç±»å‹é…ç½®
        const typeConfig = {
            video: {
                label: 'è§†é¢‘å¾®è¯¾',
                emoji: 'ğŸ¬',
                bgColor: 'bg-purple-50',
                textColor: 'text-purple-600',
                borderColor: 'border-purple-200',
                btnColor: 'bg-purple-500 hover:bg-purple-600'
            },
            ppt: {
                label: 'PPTè¯¾ä»¶',
                emoji: 'ğŸ“Š',
                bgColor: 'bg-blue-50',
                textColor: 'text-blue-600',
                borderColor: 'border-blue-200',
                btnColor: 'bg-blue-500 hover:bg-blue-600'
            },
            ai: {
                label: 'AIäº’åŠ¨',
                emoji: 'ğŸ¤–',
                bgColor: 'bg-green-50',
                textColor: 'text-green-600',
                borderColor: 'border-green-200',
                btnColor: 'bg-green-500 hover:bg-green-600'
            }
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadResources();
            renderResources();
        });

        // åŠ è½½èµ„æº
        function loadResources() {
            const saved = localStorage.getItem('eduResources');
            if (saved) {
                resources = JSON.parse(saved);
            } else {
                // é»˜è®¤ç¤ºä¾‹èµ„æº
                resources = [];
            }
        }

        // ä¿å­˜èµ„æº
        function saveResources() {
            localStorage.setItem('eduResources', JSON.stringify(resources));
        }

        // ç­›é€‰èµ„æº
        function filterResources(type) {
            selectedType = type;
            renderResources();

            // æ›´æ–°æŒ‰é’®æ ·å¼
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('bg-gradient-to-r', 'from-purple-500', 'via-blue-500', 'to-green-500', 'text-white', 'shadow-lg');
                btn.classList.add('bg-white', 'text-gray-700');
            });

            const activeBtn = document.getElementById(`btn-${type}`);
            if (type === 'all') {
                activeBtn.classList.add('bg-gradient-to-r', 'from-purple-500', 'via-blue-500', 'to-green-500', 'text-white', 'shadow-lg');
            } else {
                const config = typeConfig[type];
                activeBtn.style.background = `linear-gradient(90deg, #8b5cf6, #3b82f6, #22c55e)`;
                activeBtn.classList.add('text-white', 'shadow-lg');
            }
        }

        // æ¸²æŸ“èµ„æºåˆ—è¡¨
        function renderResources() {
            const container = document.getElementById('resources-container');
            const filteredResources = selectedType === 'all'
                ? resources
                : resources.filter(r => r.type === selectedType);

            if (filteredResources.length === 0) {
                container.innerHTML = `
                    <div class="flex flex-col items-center justify-center rounded-3xl bg-white p-8 sm:p-16 shadow-xl">
                        <div class="mb-6 text-6xl sm:text-8xl animate-bounce">ğŸ“­</div>
                        <h3 class="mb-3 text-xl sm:text-2xl font-bold text-gray-900">
                            æš‚æ— èµ„æº
                        </h3>
                        <p class="text-center text-gray-600 text-sm sm:text-base">
                            ${selectedType === 'all' ? 'è¿˜æ²¡æœ‰ä»»ä½•äººä¸Šä¼ èµ„æº<br>ç‚¹å‡»"ä¸Šä¼ èµ„æº"æŒ‰é’®å¼€å§‹å§ï¼' : 'è¯¥ç±»å‹æš‚æ— èµ„æº'}
                        </p>
                    </div>
                `;
                return;
            }

            container.innerHTML = `
                <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
                    ${filteredResources.map(resource => {
                        const config = typeConfig[resource.type];
                        return `
                            <div class="overflow-hidden rounded-2xl sm:rounded-3xl bg-white shadow-xl border-2 ${config.borderColor} transition-all duration-300 hover:scale-105 hover:shadow-2xl">
                                <div class="${config.bgColor} px-4 sm:px-6 py-3 sm:py-4">
                                    <div class="flex items-center gap-2">
                                        <span class="text-2xl sm:text-3xl">${config.emoji}</span>
                                        <span class="inline-flex items-center rounded-full px-3 sm:px-4 py-1.5 text-xs sm:text-sm font-bold ${config.textColor}">
                                            ${config.label}
                                        </span>
                                    </div>
                                </div>
                                <div class="p-4 sm:p-6">
                                    <h3 class="mb-2 sm:mb-3 text-lg sm:text-xl font-bold text-gray-900">${resource.title}</h3>
                                    <p class="mb-3 sm:mb-4 text-gray-600 text-sm sm:text-base line-clamp-2">${resource.description || 'æš‚æ— æè¿°'}</p>
                                    ${resource.type === 'video' ? `
                                        <button
                                            onclick="playVideo('${resource.url}')"
                                            class="mb-2 w-full flex items-center justify-center gap-2 rounded-xl px-3 sm:px-4 py-2 sm:py-3 text-white font-bold transition-all hover:scale-105 ${config.btnColor} text-sm sm:text-base"
                                        >
                                            <svg class="h-4 w-4 sm:h-5 sm:w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                            </svg>
                                            æ’­æ”¾å¾®è¯¾
                                        </button>
                                    ` : ''}
                                    <a
                                        href="${resource.url}"
                                        target="_blank"
                                        class="${resource.type === 'video' ? 'mt-2' : ''} w-full flex items-center justify-center gap-2 rounded-xl px-3 sm:px-4 py-2 sm:py-3 text-white font-bold transition-all hover:scale-105 ${config.btnColor} text-sm sm:text-base inline-block text-center"
                                    >
                                        <svg class="h-4 w-4 sm:h-5 sm:w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                                        </svg>
                                        ${resource.type === 'video' ? 'ä¸‹è½½è§†é¢‘' : resource.type === 'ppt' ? 'ä¸‹è½½è¯¾ä»¶' : 'ä¸‹è½½é…ç½®'}
                                    </a>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        // æ˜¾ç¤ºä¸Šä¼ æ¨¡æ€æ¡†
        function showUploadModal() {
            document.getElementById('uploadModal').classList.remove('hidden');
        }

        // éšè—ä¸Šä¼ æ¨¡æ€æ¡†
        function hideUploadModal() {
            document.getElementById('uploadModal').classList.add('hidden');
            document.getElementById('uploadForm').reset();
        }

        // å¤„ç†æ–‡ä»¶ä¸Šä¼ 
        async function handleUpload(event) {
            event.preventDefault();

            const type = document.getElementById('resourceType').value;
            const file = document.getElementById('fileInput').files[0];
            const title = document.getElementById('titleInput').value;
            const description = document.getElementById('descriptionInput').value;

            if (!file) {
                alert('è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶');
                return;
            }

            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'ä¸Šä¼ ä¸­...';

            try {
                // ä½¿ç”¨ Transfer.sh ä¸Šä¼ æ–‡ä»¶ï¼ˆå…è´¹æ–‡ä»¶æ‰˜ç®¡ï¼‰
                const formData = new FormData();
                formData.append('file', file);

                const response = await fetch(`https://transfer.sh/${encodeURIComponent(file.name)}`, {
                    method: 'PUT',
                    body: formData,
                });

                if (!response.ok) {
                    throw new Error('ä¸Šä¼ å¤±è´¥');
                }

                const downloadUrl = await response.text();

                // æ·»åŠ åˆ°èµ„æºåˆ—è¡¨
                const newResource = {
                    id: Date.now().toString(),
                    type: type,
                    title: title,
                    description: description || '',
                    url: downloadUrl.trim(),
                    fileName: file.name,
                    size: file.size,
                    uploadDate: new Date().toISOString()
                };

                resources.unshift(newResource);
                saveResources();
                renderResources();

                alert('ä¸Šä¼ æˆåŠŸï¼');
                hideUploadModal();

            } catch (error) {
                console.error('ä¸Šä¼ å¤±è´¥:', error);
                alert('ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'å¼€å§‹ä¸Šä¼ ';
            }
        }

        // æ’­æ”¾è§†é¢‘
        function playVideo(url) {
            const videoModal = document.getElementById('videoModal');
            const videoPlayer = document.getElementById('videoPlayer');
            videoPlayer.src = url;
            videoModal.classList.remove('hidden');
        }

        // éšè—è§†é¢‘æ’­æ”¾æ¨¡æ€æ¡†
        function hideVideoModal() {
            const videoModal = document.getElementById('videoModal');
            const videoPlayer = document.getElementById('videoPlayer');
            videoPlayer.pause();
            videoPlayer.src = '';
            videoModal.classList.add('hidden');
        }

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        document.getElementById('uploadModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideUploadModal();
            }
        });

        document.getElementById('videoModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideVideoModal();
            }
        });
    </script>
</body>
</html>
